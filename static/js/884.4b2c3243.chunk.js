"use strict";(self.webpackChunkreact_examples=self.webpackChunkreact_examples||[]).push([[884],{1884:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r="container_container__hbpDN",a="container_title__yXjoA",o=n(184),c=function(e){var t=e.title,n=e.children;return(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("h2",{className:a,children:t}),n]})},s=n(4942),u=n(1413),i=n(9439),l=n(2791),f=function(e){var t=e.initialState,n=e.onSubmit,r=(0,l.useState)((0,u.Z)({},t)),a=(0,i.Z)(r,2),o=a[0],c=a[1];return{state:o,setState:c,handleChange:function(e){var t=e.target,n=t.name,r=t.value,a=t.type,o=t.checked,i="checkbox"===a?o:r;c((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,s.Z)({},n,i))}))},handleSubmit:function(e){e.preventDefault(),n((0,u.Z)({},o)),c((0,u.Z)({},t))}}},h="form-add-book_group__h2qZ5",p="form-add-book_label__lhOuF",d="form-add-book_input__kI5LD",v="form-add-book_btn__m-af9",m={title:"",author:"",favorite:!1},b=function(e){var t=e.onSubmit,n=f({initialState:m,onSubmit:t}),r=n.state,a=n.handleChange,c=n.handleSubmit,s=r.title,u=r.author,i=r.favorite;return(0,o.jsxs)("form",{action:"",onSubmit:c,children:[(0,o.jsxs)("div",{className:h,children:[(0,o.jsx)("label",{className:p,htmlFor:"",children:"Title:"}),(0,o.jsx)("input",{value:s,name:"title",onChange:a,className:d,type:"text",placeholder:"Title of book"})]}),(0,o.jsxs)("div",{className:h,children:[(0,o.jsx)("label",{className:p,htmlFor:"",children:"Author:"}),(0,o.jsx)("input",{value:u,name:"author",onChange:a,className:d,type:"text",placeholder:"Author of book"})]}),(0,o.jsxs)("div",{className:h,children:[(0,o.jsx)("label",{className:p,htmlFor:"",children:"Favorite:"}),(0,o.jsx)("input",{value:u,name:"favorite",onChange:a,type:"checkbox",checked:i})]}),(0,o.jsx)("div",{className:h,children:(0,o.jsx)("button",{className:v,type:"submit",children:"Add book"})})]})},x="book-list_item__-wOGI",k="book-list_btn__I4W30",_=function(e){var t=e.books,n=e.removeBook,r=t.map((function(e){var t=e.id,r=e.title,a=e.author;return(0,o.jsxs)("li",{className:x,children:[r,". Author: ",a,".",(0,o.jsx)("button",{type:"button",className:k,onClick:function(){return n(t)},children:"Delete"})]},t)}));return(0,o.jsx)("ul",{children:r})},Z="my-books_books__JQoYc",j=n(9434),w=n(3995),N=function(e){return e.filter},y=n(5577),g=n(4165),C=n(5861),S=n(1912).Z.create({baseURL:"https://63e6769c83c0e85a86945f6f.mockapi.io/books"}),L=function(){var e=(0,C.Z)((0,g.Z)().mark((function e(){var t,n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,C.Z)((0,g.Z)().mark((function e(t){var n,r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,C.Z)((0,g.Z)().mark((function e(t){var n,r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete("/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(7007),D=function(e,t){var n=e.title,r=e.author,a=n.toLowerCase(),o=r.toLowerCase(),c=t.find((function(e){return a===e.title.toLowerCase()&&o===e.author.toLowerCase()}));return Boolean(c)},B=function(){var e=(0,j.v9)(w.Jx),t=(0,j.v9)(N),n=(0,j.I0)();(0,l.useEffect)((function(){n(function(){var e=function(){var e=(0,C.Z)((0,g.Z)().mark((function e(t){var n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(I.Hg()),e.next=4,L();case 4:n=e.sent,t(I.nM(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(I.In(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return e}())}),[n]);return(0,o.jsxs)("div",{className:Z,children:[(0,o.jsx)(c,{title:"Add book",children:(0,o.jsx)(b,{onSubmit:function(e){n(function(e){var t=function(){var t=(0,C.Z)((0,g.Z)().mark((function t(n,r){var a,o,c;return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.books,!D(e,o.items)){t.next=3;break}return t.abrupt("return",alert("".concat(e.title," or ").concat(e.author," is already exist !")));case 3:return t.prev=3,n(I.Ei()),t.next=7,A(e);case 7:c=t.sent,n(I.fk(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),n(I.pb(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}();return t}(e))}})}),(0,o.jsxs)(c,{title:"List of books",children:[(0,o.jsx)("input",{onChange:function(e){var t=e.target;n((0,y.T)(t.value))},value:t,name:"filter",type:"text",placeholder:"Enter name of book"}),(0,o.jsx)(_,{books:e,removeBook:function(e){n(function(e){var t=function(){var t=(0,C.Z)((0,g.Z)().mark((function t(n){return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(I.Mi()),t.next=4,F(e);case 4:n(I.oi(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(I.$X(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return t}(e))}})]})]})},E=function(){return(0,o.jsx)("div",{className:"container",children:(0,o.jsx)(B,{})})}}}]);
//# sourceMappingURL=884.4b2c3243.chunk.js.map